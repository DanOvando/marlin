<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manage Catch and Effort of Fleets • marlin</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manage Catch and Effort of Fleets">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">marlin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/dynamic-habitat.html">Set Dynamic Habitats</a></li>
    <li><a class="dropdown-item" href="../articles/fleet-management.html">Manage Catch and Effort of Fleets</a></li>
    <li><a class="dropdown-item" href="../articles/Invertebrates.html">Invertebrates</a></li>
    <li><a class="dropdown-item" href="../articles/manual_fleets.html">Manual Fishing Grounds and Effort Allocation</a></li>
    <li><a class="dropdown-item" href="../articles/measure_gradients.html">Measure MPA Gradients</a></li>
    <li><a class="dropdown-item" href="../articles/movement-rates.html">Setting &amp; Understanding Movement Rates</a></li>
    <li><a class="dropdown-item" href="../articles/MSE.html">Management Strategy Evaluation (sort of)</a></li>
    <li><a class="dropdown-item" href="../articles/port-distance.html">Setting and Using Distance from Port</a></li>
    <li><a class="dropdown-item" href="../articles/rectifier.html">Don't Be a Square</a></li>
    <li><a class="dropdown-item" href="../articles/Setting-Selectivity.html">Setting Selectivity</a></li>
    <li><a class="dropdown-item" href="../articles/Working-with-Recruitment-Deviates.html">Working with Recruitment Deviates</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/danovando/marlin/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Manage Catch and Effort of Fleets</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/danovando/marlin/blob/HEAD/vignettes/fleet-management.Rmd" class="external-link"><code>vignettes/fleet-management.Rmd</code></a></small>
      <div class="d-none name"><code>fleet-management.Rmd</code></div>
    </div>

    
    
<p><code>marlin</code> allows for a wide range of options to govern both
the management and internal dynamics of fishing fleets.</p>
<p>Things you can adjust include</p>
<ul>
<li><p>The <code>fleet_model</code> option, which at the moment supports
<code>constant effort</code>, in which total fishing effort remains
constant, and <code>open access</code> where total effort increases or
decreases in response to profits.</p></li>
<li><p>Closed fishing seasons per critter, for example enforcing a
closed season for species X but not species Y</p></li>
<li><p>Catch quotas per species</p></li>
<li><p>Effort caps per fleet</p></li>
<li><p>Size limits and selectivity forms per metier and critter</p></li>
<li><p>no-take Marine Protected Areas</p></li>
</ul>
<p>You can mix and match most of these options (e.g. an open-access
fleet subjected to a total quota for some species but not for
others).</p>
<p>First, let’s set up the system and the critters we will deal with, in
this case a simple example of one bigeye tuna population.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://danovando.github.io/marlin/">marlin</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="../reference/theme_marlin.html">theme_marlin</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">resolution</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="co"># resolution is in squared patches, so 20 implies a 20X20 system, i.e. 400 patches </span></span>
<span></span>
<span><span class="va">years</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">seasons</span> <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span></span>
<span><span class="va">time_step</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="va">seasons</span></span>
<span></span>
<span><span class="va">steps</span> <span class="op">&lt;-</span> <span class="va">years</span> <span class="op">*</span> <span class="va">seasons</span></span>
<span></span>
<span><span class="va">fauna</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"bigeye"</span> <span class="op">=</span> <span class="fu"><a href="../reference/create_critter.html">create_critter</a></span><span class="op">(</span></span>
<span>      scientific_name <span class="op">=</span> <span class="st">"Thunnus obesus"</span>,</span>
<span>      adult_diffusion <span class="op">=</span> <span class="fl">10</span>,</span>
<span>      density_dependence <span class="op">=</span> <span class="st">"post_dispersal"</span>, </span>
<span>      seasons <span class="op">=</span> <span class="va">seasons</span>,</span>
<span>      fished_depletion <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>      resolution <span class="op">=</span> <span class="va">resolution</span>,</span>
<span>      steepness <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>      ssb0 <span class="op">=</span> <span class="fl">1000</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">fauna</span><span class="op">$</span><span class="va">bigeye</span><span class="op">$</span><span class="va">m_at_age</span></span>
<span><span class="co">#&gt;  [1] 3.6234693 2.4692787 1.8927609 1.5473114 1.3173955 1.1534981 1.0308614</span></span>
<span><span class="co">#&gt;  [8] 0.9357311 0.8598546 0.7979800 0.7466060 0.7033087 0.6663565 0.6344796</span></span>
<span><span class="co">#&gt; [15] 0.6067255 0.5823660 0.5608345 0.5416836 0.5245555 0.5091604 0.4952612</span></span>
<span><span class="co">#&gt; [22] 0.4826621 0.4711996 0.4607368 0.4511574 0.4423625 0.4342675 0.4267990</span></span>
<span><span class="co">#&gt; [29] 0.4198938 0.4134967 0.4075592 0.4020388 0.3968982 0.3921040 0.3876268</span></span>
<span><span class="co">#&gt; [36] 0.3834400 0.3795203 0.3758463 0.3723991 0.3691613 0.3661175 0.3632535</span></span>
<span><span class="co">#&gt; [43] 0.3605564 0.3580146 0.3556173 0.3533547 0.3512180 0.3491988 0.3472895</span></span></code></pre></div>
<div class="section level2">
<h2 id="open-access">Open Access<a class="anchor" aria-label="anchor" href="#open-access"></a>
</h2>
<p>Let’s set up two fleets, one open access, one constant effort. open
access dynamics are based around the profitability of the fishery, and
so require a few more parameters, though reasonable defaults are
provided.</p>
<p>The open access fleet model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>f</mi></mrow></msub><mo>=</mo><msub><mi>E</mi><mrow><mi>t</mi><mo>,</mo><mi>f</mi></mrow></msub><mo>×</mo><msup><mi>e</mi><mrow><mi>θ</mi><mi>l</mi><mi>o</mi><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>,</mo><mi>f</mi></mrow></msub><mi>/</mi><msub><mi>C</mi><mrow><mi>t</mi><mo>,</mo><mi>f</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msup></mrow><annotation encoding="application/x-tex">E_{t+1,f} = E_{t,f} \times e^{\theta log(R_{t,f} / C_{t,f})} </annotation></semantics></math></p>
<p>where <em>E</em> is total effort in time <em>t</em> for fleet
<em>f</em>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>θ</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
controls the responsiveness of effort to the ratio of revenues
<em>R</em> to costs <em>C</em> in log space. A value of 0.1 means that a
1 unit increase in the revenue to cost ratio results in a roughly 10%
increase in effort.</p>
<p>Revenue is defined as</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>t</mi><mo>,</mo><mi>f</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>s</mi><mo>=</mo><mn>1</mn></mrow><mi>S</mi></munderover><msub><mi>p</mi><mrow><mi>f</mi><mo>,</mo><mi>s</mi></mrow></msub><mi>C</mi><mi>a</mi><mi>t</mi><mi>c</mi><msub><mi>h</mi><mrow><mi>f</mi><mo>,</mo><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{t,f} = \sum_{s=1}^Sp_{f,s}Catch_{f,s}</annotation></semantics></math>
where <em>p</em> is the price and <em>Catch</em> is the catch for
species <em>s</em> caught by fleet <em>f</em></p>
<p>Costs are defined as</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mrow><mi>t</mi><mo>,</mo><mi>f</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>p</mi><mo>=</mo><mn>1</mn></mrow><mi>P</mi></munderover><msub><mi>γ</mi><mi>f</mi></msub><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>E</mi><mrow><mi>t</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>f</mi></mrow><msub><mi>β</mi><mi>f</mi></msub></msubsup><mo>+</mo><msub><mi>η</mi><mrow><mi>f</mi><mo>,</mo><mi>p</mi></mrow></msub><msub><mi>E</mi><mrow><mi>t</mi><mo>,</mo><mi>p</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">C_{t,f} = \sum_{p=1}^P \gamma_f (E_{t,p,f}^{\beta_f} + \eta_{f,p} E_{t,p})</annotation></semantics></math></p>
<p>where
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>γ</mi><mi>f</mi></msub><annotation encoding="application/x-tex">\gamma_f</annotation></semantics></math>
is the base cost per unit effort for fleet <em>f</em>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>β</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
allows for thec cost of effort to scale non-linearly, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>η</mi><annotation encoding="application/x-tex">\eta</annotation></semantics></math>
is the cost of fishing in each patch <em>p</em>, allowing for the model
to account for travel costs for different patches.</p>
<p>Many of these parameters are intuitive and easy to set (e.g. price),
but others are not. In particular, the cost per unit effort parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>γ</mi><annotation encoding="application/x-tex">\gamma</annotation></semantics></math>
can be difficult to adjust as it depends on the units of effort and
biomass to work correctly.</p>
<p>As such, the model works bets when specifying a <code>cr_ratio</code>
rather than a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>γ</mi><annotation encoding="application/x-tex">\gamma</annotation></semantics></math>.
The <code>cr_ratio</code> specifies the ratio of costs to revenue at
equilibrium conditions. So, a value of 1 means that profits are zero at
equilibrium, &gt;1 that profits are negative, &lt; 1 that profits are
positive.</p>
<p>The function <code>tune_fleets</code> then takes these parameters and
finds the cost parameters that results in the desired equilibrium
<code>cr_ratio</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fleets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"longline"</span> <span class="op">=</span> <span class="fu"><a href="../reference/create_fleet.html">create_fleet</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"bigeye"</span> <span class="op">=</span> <span class="va"><a href="../reference/Metier.html">Metier</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>        critter <span class="op">=</span> <span class="va">fauna</span><span class="op">$</span><span class="va">bigeye</span>,</span>
<span>        price <span class="op">=</span> <span class="fl">10</span>,</span>
<span>        sel_form <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>        sel_start <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        sel_delta <span class="op">=</span> <span class="fl">.01</span>,</span>
<span>        catchability <span class="op">=</span> <span class="fl">0</span>,</span>
<span>        p_explt <span class="op">=</span> <span class="fl">2</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    base_effort <span class="op">=</span> <span class="va">resolution</span> <span class="op">^</span> <span class="fl">2</span>,</span>
<span>    resolution <span class="op">=</span> <span class="va">resolution</span>,</span>
<span>    responsiveness <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>    cr_ratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    cost_per_distance <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    fleet_model <span class="op">=</span> <span class="st">"open access"</span><span class="op">)</span></span>
<span>,</span>
<span><span class="st">"handline"</span> <span class="op">=</span> <span class="fu"><a href="../reference/create_fleet.html">create_fleet</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"bigeye"</span> <span class="op">=</span> <span class="va"><a href="../reference/Metier.html">Metier</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>    critter <span class="op">=</span> <span class="va">fauna</span><span class="op">$</span><span class="va">bigeye</span>,</span>
<span>    price <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    sel_form <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>    sel_start <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    sel_delta <span class="op">=</span> <span class="fl">.01</span>,</span>
<span>    catchability <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    p_explt <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  base_effort <span class="op">=</span> <span class="va">resolution</span> <span class="op">^</span> <span class="fl">2</span>,</span>
<span>  resolution <span class="op">=</span> <span class="va">resolution</span>,</span>
<span>  fleet_model <span class="op">=</span> <span class="st">"constant effort"</span>,</span>
<span>  cost_per_unit_effort <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fleets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tune_fleets.html">tune_fleets</a></span><span class="op">(</span><span class="va">fauna</span>, <span class="va">fleets</span>, tune_type <span class="op">=</span> <span class="st">"depletion"</span><span class="op">)</span> </span></code></pre></div>
<p>We can now run our simulation and examine the resulting fleet
dynamics</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simmar.html">simmar</a></span><span class="op">(</span>fauna <span class="op">=</span> <span class="va">fauna</span>,</span>
<span>                  fleets <span class="op">=</span> <span class="va">fleets</span>,</span>
<span>                  years <span class="op">=</span> <span class="va">years</span><span class="op">)</span></span>
<span><span class="va">proc_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_marlin.html">process_marlin</a></span><span class="op">(</span><span class="va">sim</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_marlin.html">plot_marlin</a></span><span class="op">(</span><span class="va">proc_sim</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">proc_sim</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>effort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">effort</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">effort</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-3-2.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="open-access-and-mpas">Open Access and MPAs<a class="anchor" aria-label="anchor" href="#open-access-and-mpas"></a>
</h2>
<p>To see the effect of the fleet model choices, let’s examine the
trajectory of each fleet after the addition of an MPA. Under the default
constant effort with reallocation dynamics of the model, when an MPA is
put in place, the total effort in the fishery remains the same but is
reallocated to from inside the MPA to the remaining fishable patches.
Under the open access model, effort reacts to the MPA in accordance to
the MPAs impacts on fishing profits.</p>
<p>As a result, when the MPA is put in place effort decreases rapidly,
until profits increase some due to spillover from the MPA, at which time
effort increases until a new open access equilibrium of zero profits
with the MPAs is achieved.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="co">#specify some MPA locations</span></span>
<span><span class="va">mpa_locations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html" class="external-link">expand_grid</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">resolution</span>, y <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">resolution</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>mpa <span class="op">=</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">4</span> <span class="op">&amp;</span> <span class="va">y</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_mpa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simmar.html">simmar</a></span><span class="op">(</span>fauna <span class="op">=</span> <span class="va">fauna</span>,</span>
<span>                  fleets <span class="op">=</span> <span class="va">fleets</span>,</span>
<span>                  years <span class="op">=</span> <span class="va">years</span>,</span>
<span>                  manager <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mpas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>locations <span class="op">=</span> <span class="va">mpa_locations</span>,</span>
<span>              mpa_year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">years</span> <span class="op">*</span> <span class="fl">.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">proc_mpa_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_marlin.html">process_marlin</a></span><span class="op">(</span><span class="va">with_mpa</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">proc_mpa_sim</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>effort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">effort</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">effort</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="quotas">Quotas<a class="anchor" aria-label="anchor" href="#quotas"></a>
</h2>
<p>We can also layer quotas onto the fleet model. Here, we will impose a
total quota of 100 tons of bigeye caught across all fleets. Notice that
quotas impose a <em>cap</em>, not a requirement, on catch. So, in the
early days of the fishery when catches would have been high, the quota
is in effect. However, in the later days of the fishery, the fleets have
no incentive to catch up to the quota, and so catch less than the
allowable amount.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_quota</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simmar.html">simmar</a></span><span class="op">(</span>fauna <span class="op">=</span> <span class="va">fauna</span>,</span>
<span>                  fleets <span class="op">=</span> <span class="va">fleets</span>,</span>
<span>                  years <span class="op">=</span> <span class="va">years</span>,</span>
<span>                  manager <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>quotas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>bigeye <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">proc_sim_quota</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_marlin.html">process_marlin</a></span><span class="op">(</span><span class="va">sim_quota</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_marlin.html">plot_marlin</a></span><span class="op">(</span><span class="va">proc_sim_quota</span>, plot_var <span class="op">=</span> <span class="st">"c"</span>, max_scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">proc_sim_quota</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>catch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">catch</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">catch</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">proc_sim_quota</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>effort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">effort</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">effort</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-5-3.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="effort-caps">Effort Caps<a class="anchor" aria-label="anchor" href="#effort-caps"></a>
</h2>
<p>Another management option is to set a maximum amount of effort per
fleet. This could reflect regulation, or reality. For example, if the
user wishes to think of effort in terms of “days fished per year” by a
fixed number of vessels, clearly there are limits.</p>
<p>Users set this by
<code>manager = list(effort_cap = list(FLEET_NAME = EFFORT_CAP))</code>,
where <code>FLEET_NAME</code> is filled in with the name of the fleet to
apply a given total <code>EFFORT_CAP</code> to.</p>
<p>Note that effort caps only really apply when
<code>fleet_model == "open access</code>; when
<code>fleet_model == "constant effort"</code> effort it already capped.
Under open access though, the effort cap ensures that while open access
dynamics might <strong>reduce</strong> the total amount of effort,
effort will never expand beyond the supplied cap for that fleet.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sim_effort</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simmar.html">simmar</a></span><span class="op">(</span>fauna <span class="op">=</span> <span class="va">fauna</span>,</span>
<span>                  fleets <span class="op">=</span> <span class="va">fleets</span>,</span>
<span>                  years <span class="op">=</span> <span class="va">years</span>,</span>
<span>                  manager <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>effort_cap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>longline <span class="op">=</span> <span class="fl">1.5</span> <span class="op">*</span><span class="va">fleets</span><span class="op">$</span><span class="va">longline</span><span class="op">$</span><span class="va">base_effort</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">proc_sim_effort</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_marlin.html">process_marlin</a></span><span class="op">(</span><span class="va">sim_effort</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_marlin.html">plot_marlin</a></span><span class="op">(</span><span class="va">proc_sim_effort</span>, plot_var <span class="op">=</span> <span class="st">"c"</span>, max_scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">proc_sim_effort</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>catch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">catch</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">catch</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-6-2.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">proc_sim_effort</span><span class="op">$</span><span class="va">fleets</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">fleet</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>effort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">effort</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">step</span> <span class="op">*</span> <span class="va">time_step</span>, <span class="va">effort</span>, color <span class="op">=</span> <span class="va">fleet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Year"</span><span class="op">)</span></span></code></pre></div>
<p><img src="fleet-management_files/figure-html/unnamed-chunk-6-3.png" width="700"></p>
<!-- ## Seasons -->
<!-- We can also impose closed or reduced fishing seasons that apply to one or more targeted species. This is specified by a vector containing values between 0 and 1 with length equal to the number of seasons in the simulation.  When a season has a value of 1, that implies that fishing continues as normal in that season. When that value is 0, that means that the fishery is closed in that season. Setting intermediate values, like say 0.5, is akin to simulating a closed seasons with a 50% discard mortality rate -->
<!-- So one option would be to specify a discard mortality rate, and a discard rate, with the discard rate being potentially seasonal.  -->
<!-- The problem is the need to separate out the accounting between how many fish actually die and how many the fleet is allowed to retain. Suppose you set a discard rate of 50%, and a discard mortality rate of 0%. That is equivalent to just cutting effort in half.  -->
<!-- But, suppose you set a discard rate of 100% and a discard mortality rate of 100%. That would mean that the same amount of fish are dying, but you can't keep them. So that would be easy since again effort doesn't change, you'd just need a multiplier on converting dead fish to catch.  -->
<!-- But, now suppose that discard rate is 100% and discard mortality is 50%. Now, you need to both reduce effort by 50%, but allow zero retention.  -->
<!-- So, you'd need to adjust fishing mortality rate by a function of discard rate + discard mortality -->
<!-- That will get the correct amount of fish dead -->
<!-- Then you'd adjust the catch by just the discard rate -->
<!-- This gets pretty complicated pretty quickly though, since it means that you need to adjust the actual amount killed. So that would come in on a multiplier of the fishing mortality rate in the manner you have now, where say if you  -->
<!-- ```{r} -->
<!-- sim <- simmar(fauna = fauna, -->
<!--                   fleets = fleets, -->
<!--                   years = years, -->
<!--               manager = list(seasonal_effort_mult = list(bigeye = c(1,2)))) -->
<!-- proc_sim <- process_marlin(sim) -->
<!-- plot_marlin(proc_sim, plot_var = "c") -->
<!-- proc_sim$fleets %>%  -->
<!--   group_by(step, fleet) %>% -->
<!--   summarise(effort = sum(effort)) %>%  -->
<!--   ggplot(aes(step * time_step, effort, color = fleet)) +  -->
<!--   geom_line() +  -->
<!--   scale_x_continuous(name = "Year") +  -->
<!--   scale_y_continuous(limits = c(0, NA)) -->
<!-- ``` -->
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dan Ovando.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
